{"ast":null,"code":"import \"antd/es/badge/style\";\nimport _Badge from \"antd/es/badge\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport _AppleOutlined from \"@ant-design/icons/es/icons/AppleOutlined\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _GoogleOutlined from \"@ant-design/icons/es/icons/GoogleOutlined\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/divider/style\";\nimport _Divider from \"antd/es/divider\";\nimport _ExclamationCircleOutlined from \"@ant-design/icons/es/icons/ExclamationCircleOutlined\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"C:\\\\Users\\\\Spyder\\\\Desktop\\\\pcr-system-clone\\\\frontend\\\\src\\\\views\\\\Client\\\\RegisteredOccasion\\\\RegisteredOccasion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { withRouter, useLocation } from \"react-router-dom\";\nimport QRCode from \"qrcode.react\";\nimport { encode } from \"base-64\";\nimport { google, ics } from \"calendar-link\";\nimport moment from \"moment\";\nimport \"moment/locale/ja\";\nimport io from \"socket.io-client\";\nimport * as Commons from \"common/common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nmoment.locale(\"ja\");\nconst RegisteredOccasion = props => {\n  _s();\n  var _location$state;\n  const {\n    history,\n    showLoadingPageSpin,\n    hideLoadingPageSpin,\n    auth\n  } = props;\n  const registeredOccasionsRef = useRef();\n  const location = useLocation();\n  const isMountedRef = Commons.useIsMountedRef();\n  const [registeredOccasion, setRegisteredOccasion] = useState([]);\n  const [currentRegistration, setCurrentRegistration] = useState(undefined);\n  const [qrModalVisible, setQrModalVisible] = useState(false);\n  const fetchRegisteredOccasion = useCallback(() => {\n    showLoadingPageSpin();\n    Commons.axiosInstance.get(Commons.apiClientRegistrations).then(response => {\n      var _response$data;\n      setRegisteredOccasion((response === null || response === void 0 ? void 0 : response.data) || []);\n      if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) === 0) {\n        history.push(Commons.clientOccasionsRoute);\n      }\n    }).catch(error => {\n      if (error.response.status === 403) {\n        _message.warning(Commons.errorSessionMsg);\n        history.push(Commons.GET_REDIRECT_LOGIN_ROUTE(auth));\n      } else if (error.response.status === 500) {\n        _message.error(Commons.errorSystemMsg);\n      } else {\n        _message.error(Commons.errorSystemMsg);\n      }\n    }).finally(() => {\n      hideLoadingPageSpin();\n    });\n  }, [showLoadingPageSpin, hideLoadingPageSpin, history, auth]);\n  const handleCancellation = occasion => {\n    showLoadingPageSpin();\n    const rParams = {\n      data: {\n        registrationId: (occasion === null || occasion === void 0 ? void 0 : occasion.registrationId) || undefined\n      }\n    };\n    Commons.axiosInstance.delete(Commons.apiClientOccasions, rParams).then(response => {\n      _message.success(Commons.successCancelMsg);\n      history.push(Commons.clientOccasionsRoute);\n    }).catch(error => {\n      if (error.response.status === 406) {\n        history.push(Commons.clientOccasionsRoute);\n      } else if (error.response.status === 500) {\n        _message.error(Commons.errorSystemMsg);\n      } else {\n        _message.error(Commons.errorSystemMsg);\n      }\n    }).finally(() => {\n      if (isMountedRef.current) {\n        hideLoadingPageSpin();\n      }\n    });\n  };\n  const cancelHandler = occasion => {\n    _Modal.confirm({\n      title: \"確認\",\n      icon: /*#__PURE__*/_jsxDEV(_ExclamationCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this),\n      content: \"予約をキャンセルしてもよろしいですか？\",\n      okText: \"予約をキャンセル\",\n      okType: \"danger\",\n      okButtonProps: {\n        shape: \"round\"\n      },\n      cancelText: \"閉じる\",\n      cancelButtonProps: {\n        shape: \"round\"\n      },\n      centered: true,\n      onOk() {\n        handleCancellation(occasion);\n      }\n    });\n  };\n  const showQrModal = registration => {\n    setCurrentRegistration(registration);\n    setQrModalVisible(true);\n  };\n  const hideQrModal = () => {\n    setCurrentRegistration(undefined);\n    setQrModalVisible(false);\n  };\n  useEffect(() => {\n    fetchRegisteredOccasion();\n\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    registeredOccasionsRef.current = registeredOccasion;\n\n    // eslint-disable-next-line\n  }, [registeredOccasion]);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    const socket = io(Commons.siteURL, {\n      path: \"/socket.io\"\n    });\n    socket.on(\"updateEvent\", response => {\n      if (response !== undefined && Object.keys(response).length !== 0) {\n        if (response.occasionId && registeredOccasionsRef.current) {\n          registeredOccasionsRef.current.forEach(registeredOccasion => {\n            if (response.occasionId + \"\" === registeredOccasion.occasionId + \"\") {\n              fetchRegisteredOccasion();\n            }\n          });\n        }\n      }\n    });\n    socket.on(\"deleteEvent\", response => {\n      if (response !== undefined && Object.keys(response).length !== 0) {\n        if (response.occasionId && registeredOccasionsRef.current) {\n          registeredOccasionsRef.current.forEach(registeredOccasion => {\n            if (response.occasionId + \"\" === registeredOccasion.occasionId + \"\") {\n              history.push(Commons.clientOccasionsRoute);\n            }\n          });\n        }\n      }\n    });\n    socket.on(\"confirmRegistration\", response => {\n      if (response !== undefined && Object.keys(response).length !== 0) {\n        if (response.occasionId && registeredOccasionsRef.current) {\n          registeredOccasionsRef.current.forEach(registeredOccasion => {\n            if (response.occasionId + \"\" === registeredOccasion.occasionId + \"\") {\n              fetchRegisteredOccasion();\n            }\n          });\n        }\n      }\n    });\n    socket.on(\"cancelRegistration\", response => {\n      if (response !== undefined && Object.keys(response).length !== 0) {\n        if (response.occasionId && registeredOccasionsRef.current) {\n          registeredOccasionsRef.current.forEach(registeredOccasion => {\n            if (response.occasionId + \"\" === registeredOccasion.occasionId + \"\") {\n              fetchRegisteredOccasion();\n            }\n          });\n        }\n      }\n    });\n    return () => {\n      socket.off(\"updateEvent\");\n      socket.off(\"deleteEvent\");\n      socket.off(\"confirmRegistration\");\n      socket.off(\"cancelRegistration\");\n      socket.disconnect();\n    };\n\n    // eslint-disable-next-line\n  }, []);\n  const registeredOccasionView = occasion => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(_Badge.Ribbon, {\n        text: Commons.getTypeByValue(occasion.type),\n        children: /*#__PURE__*/_jsxDEV(_Card, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-2\",\n              children: \"\\u691C\\u67FB\\u5834\\u6240\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-center font-bold\",\n              children: `${(occasion === null || occasion === void 0 ? void 0 : occasion.title) || \"ー\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-center\",\n              children: `〒${occasion !== null && occasion !== void 0 && occasion.zipPostal ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\") : \"ー\"} ${(occasion === null || occasion === void 0 ? void 0 : occasion.address) || \"ー\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-center whitespace-pre-wrap\",\n              children: `${(occasion === null || occasion === void 0 ? void 0 : occasion.telephone) || \"ー\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-2\",\n              children: \"\\u4E88\\u7D04\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-center font-bold\",\n              children: occasion !== null && occasion !== void 0 && occasion.startAt ? moment(occasion.startAt).format(\"YYYY年M月D日 (ddd)\") : \"ー\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-2\",\n              children: \"\\u4E88\\u7D04\\u6642\\u9593\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-center font-bold\",\n              children: occasion !== null && occasion !== void 0 && occasion.startAt ? moment(occasion.startAt).format(\"HH時mm分\") : \"ー\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), (registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) < 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_ANTIGEN)[0] ? /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                className: \"rounded-lg\",\n                style: {\n                  minHeight: \"100px\"\n                },\n                block: true,\n                onClick: () => {\n                  history.push(`${Commons.clientOccasionsRoute}/${Commons.OCCASION_TYPE_PCR}`);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mb-4\",\n                  children: \"PCR\\u691C\\u67FB\\u3082\\u4E88\\u7D04\\u3059\\u308B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs\",\n                  children: \"\\u203B\\u540C\\u65E5\\u4E2D\\u306BPCR\\u691C\\u67FB\\u30FB\\u6297\\u539F\\u5B9A\\u6027\\u691C\\u67FB\\u306E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs\",\n                  children: \"\\u4E21\\u65B9\\u3092\\u53D7\\u691C\\u3059\\u308B\\u3053\\u3068\\u306F\\u3067\\u304D\\u307E\\u305B\\u3093\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this) : registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_PCR)[0] ? /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                className: \"rounded-lg\",\n                style: {\n                  minHeight: \"100px\"\n                },\n                block: true,\n                onClick: () => {\n                  history.push(`${Commons.clientOccasionsRoute}/${Commons.OCCASION_TYPE_ANTIGEN}`);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mb-4\",\n                  children: \"\\u6297\\u539F\\u5B9A\\u6027\\u691C\\u67FB\\u3082\\u4E88\\u7D04\\u3059\\u308B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs\",\n                  children: \"\\u203B\\u540C\\u65E5\\u4E2D\\u306BPCR\\u691C\\u67FB\\u30FB\\u6297\\u539F\\u5B9A\\u6027\\u691C\\u67FB\\u306E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs\",\n                  children: \"\\u4E21\\u65B9\\u3092\\u53D7\\u691C\\u3059\\u308B\\u3053\\u3068\\u306F\\u3067\\u304D\\u307E\\u305B\\u3093\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center mb-4\",\n            children: (occasion === null || occasion === void 0 ? void 0 : occasion.textCancel) || \"ー\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Row, {\n            justify: \"center\",\n            gutter: [8, 8],\n            children: [/*#__PURE__*/_jsxDEV(_Col, {\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"dashed\",\n                shape: \"round\",\n                icon: /*#__PURE__*/_jsxDEV(_GoogleOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 25\n                }, this),\n                href: google({\n                  title: `${(occasion === null || occasion === void 0 ? void 0 : occasion.type) === Commons.OCCASION_TYPE_ANTIGEN ? \"抗原性\" : (occasion === null || occasion === void 0 ? void 0 : occasion.type) === Commons.OCCASION_TYPE_PCR ? \"PCR\" : \"\"}検査`,\n                  description: `${occasion === null || occasion === void 0 ? void 0 : occasion.title}\\n\\n〒${occasion !== null && occasion !== void 0 && occasion.zipPostal ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\") : \"ー\"} ${(occasion === null || occasion === void 0 ? void 0 : occasion.address) || \"ー\"}\\n\\n${occasion === null || occasion === void 0 ? void 0 : occasion.telephone}`,\n                  start: moment(occasion === null || occasion === void 0 ? void 0 : occasion.startAt).toISOString(),\n                  end: moment(occasion === null || occasion === void 0 ? void 0 : occasion.startAt).add(1, \"hour\").toISOString(),\n                  duration: 1,\n                  location: occasion === null || occasion === void 0 ? void 0 : occasion.address,\n                  url: Commons.siteURL\n                }),\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"Google\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\\u306B\\u8FFD\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Col, {\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"dashed\",\n                shape: \"round\",\n                icon: /*#__PURE__*/_jsxDEV(_AppleOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 25\n                }, this),\n                href: ics({\n                  title: `${(occasion === null || occasion === void 0 ? void 0 : occasion.type) === Commons.OCCASION_TYPE_ANTIGEN ? \"抗原性\" : (occasion === null || occasion === void 0 ? void 0 : occasion.type) === Commons.OCCASION_TYPE_PCR ? \"PCR\" : \"\"}検査`,\n                  description: `${occasion === null || occasion === void 0 ? void 0 : occasion.title}\\n\\n〒${occasion !== null && occasion !== void 0 && occasion.zipPostal ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\") : \"ー\"} ${(occasion === null || occasion === void 0 ? void 0 : occasion.address) || \"ー\"}\\n\\n${occasion === null || occasion === void 0 ? void 0 : occasion.telephone}`,\n                  start: moment(occasion === null || occasion === void 0 ? void 0 : occasion.startAt).toISOString(),\n                  end: moment(occasion === null || occasion === void 0 ? void 0 : occasion.startAt).add(1, \"hour\").toISOString(),\n                  duration: 1,\n                  location: occasion === null || occasion === void 0 ? void 0 : occasion.address,\n                  url: Commons.siteURL\n                }),\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"Apple\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\\u306B\\u8FFD\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Row, {\n            gutter: [8, 0],\n            justify: \"center\",\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(_Col, {\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                danger: true,\n                shape: \"round\",\n                className: \"h-12 m-1\",\n                disabled: occasion !== null && occasion !== void 0 && occasion.canCancel ? (occasion === null || occasion === void 0 ? void 0 : occasion.attended) === 0 ? occasion !== null && occasion !== void 0 && occasion.startAt ? moment().isSameOrBefore(moment(occasion === null || occasion === void 0 ? void 0 : occasion.startAt).subtract((occasion === null || occasion === void 0 ? void 0 : occasion.timeCancel) || 0, \"minutes\")) ? false : true : true : true : true,\n                onClick: () => {\n                  cancelHandler(occasion);\n                },\n                children: \"\\u4E88\\u7D04\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Col, {\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"primary\",\n                shape: \"round\",\n                className: \"w-32 h-12 m-1\",\n                onClick: () => {\n                  showQrModal(occasion);\n                },\n                children: \"\\u691C\\u67FBQR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, occasion.occasionId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(_Row, {\n      gutter: [0, 0],\n      justify: \"center\",\n      className: \"mb-8 animate__animated animate__fadeIn\",\n      children: /*#__PURE__*/_jsxDEV(_Col, {\n        xs: 24,\n        lg: 12,\n        xl: 8,\n        className: \"mt-8\",\n        children: [location !== null && location !== void 0 && (_location$state = location.state) !== null && _location$state !== void 0 && _location$state.fromConfirm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl whitespace-pre-wrap font-bold text-center text-gray-600 mb-2\",\n            children: `${(registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) >= 2 ? \"PCR・抗原性\" : registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_ANTIGEN)[0] ? \"抗原性\" : registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_PCR)[0] ? \"PCR\" : \"\"}検査をご予約\\nいただきまして\\nありがとうございました。\\n`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-center text-gray-500 mb-6\",\n            children: `下記の通りいただきました予約が完了しました。`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl whitespace-pre-wrap font-bold text-center text-gray-600 mb-4\",\n            children: `${(registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) >= 2 ? \"PCR・抗原性\" : registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_ANTIGEN)[0] ? \"抗原性\" : registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_PCR)[0] ? \"PCR\" : \"\"}検査受付`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-center text-gray-500 mb-8\",\n            children: `QRコードを検査受付時にご提示ください。`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-bold text-gray-500\",\n          children: \"\\u4E88\\u7D04\\u5185\\u5BB9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), (registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) > 0 && registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_PCR)[0] ? registeredOccasionView(registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_PCR)[0]) : \"\", (registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) >= 2 ? /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 46\n        }, this) : \"\", (registeredOccasion === null || registeredOccasion === void 0 ? void 0 : registeredOccasion.length) > 0 && registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_ANTIGEN)[0] ? registeredOccasionView(registeredOccasion.filter(ro => ro.type === Commons.OCCASION_TYPE_ANTIGEN)[0]) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n      visible: qrModalVisible,\n      title: \"\\u691C\\u67FB\\u53D7\\u4ED8QR\\u30B3\\u30FC\\u30C9\",\n      onCancel: hideQrModal,\n      footer: null,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(_Row, {\n        justify: \"center\",\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(_Col, {\n          children: currentRegistration !== null && currentRegistration !== void 0 && currentRegistration.registrationId ? /*#__PURE__*/_jsxDEV(_Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(_Row, {\n              justify: \"center\",\n              children: /*#__PURE__*/_jsxDEV(_Col, {\n                children: /*#__PURE__*/_jsxDEV(QRCode, {\n                  value: encode(currentRegistration.registrationId),\n                  size: 250,\n                  level: \"H\",\n                  renderAs: \"svg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Row, {\n        justify: \"center\",\n        children: /*#__PURE__*/_jsxDEV(_Col, {\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            shape: \"round\",\n            size: \"large\",\n            className: \"px-8\",\n            onClick: hideQrModal,\n            children: \"\\u9589\\u3058\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(RegisteredOccasion, \"WcdrkSJGGYBnO0+g8N5mZUeHBwg=\", false, function () {\n  return [useLocation, Commons.useIsMountedRef];\n});\n_c = RegisteredOccasion;\nexport default _c2 = withRouter(RegisteredOccasion);\nvar _c, _c2;\n$RefreshReg$(_c, \"RegisteredOccasion\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","withRouter","useLocation","QRCode","encode","google","ics","moment","io","Commons","jsxDEV","_jsxDEV","Fragment","_Fragment","locale","RegisteredOccasion","props","_s","_location$state","history","showLoadingPageSpin","hideLoadingPageSpin","auth","registeredOccasionsRef","location","isMountedRef","useIsMountedRef","registeredOccasion","setRegisteredOccasion","currentRegistration","setCurrentRegistration","undefined","qrModalVisible","setQrModalVisible","fetchRegisteredOccasion","axiosInstance","get","apiClientRegistrations","then","response","_response$data","data","length","push","clientOccasionsRoute","catch","error","status","_message","warning","errorSessionMsg","GET_REDIRECT_LOGIN_ROUTE","errorSystemMsg","finally","handleCancellation","occasion","rParams","registrationId","delete","apiClientOccasions","success","successCancelMsg","current","cancelHandler","_Modal","confirm","title","icon","_ExclamationCircleOutlined","fileName","_jsxFileName","lineNumber","columnNumber","content","okText","okType","okButtonProps","shape","cancelText","cancelButtonProps","centered","onOk","showQrModal","registration","hideQrModal","window","scrollTo","socket","siteURL","path","on","Object","keys","occasionId","forEach","off","disconnect","registeredOccasionView","children","_Badge","Ribbon","text","getTypeByValue","type","_Card","className","zipPostal","insertCharacter","address","telephone","_Divider","startAt","format","filter","ro","OCCASION_TYPE_ANTIGEN","_Button","style","minHeight","block","onClick","OCCASION_TYPE_PCR","textCancel","_Row","justify","gutter","_Col","_GoogleOutlined","href","description","start","toISOString","end","add","duration","url","target","rel","_AppleOutlined","danger","disabled","canCancel","attended","isSameOrBefore","subtract","timeCancel","xs","lg","xl","state","fromConfirm","visible","onCancel","footer","span","value","size","level","renderAs","_c","_c2","$RefreshReg$"],"sources":["C:/Users/Spyder/Desktop/pcr-system-clone/frontend/src/views/Client/RegisteredOccasion/RegisteredOccasion.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\"\r\nimport { withRouter, useLocation } from \"react-router-dom\"\r\nimport { Col, Divider, message, Row, Button, Modal, Card, Badge } from \"antd\"\r\nimport {\r\n  ExclamationCircleOutlined,\r\n  AppleOutlined,\r\n  GoogleOutlined,\r\n} from \"@ant-design/icons\"\r\nimport QRCode from \"qrcode.react\"\r\nimport { encode } from \"base-64\"\r\nimport { google, ics } from \"calendar-link\"\r\nimport moment from \"moment\"\r\nimport \"moment/locale/ja\"\r\nimport io from \"socket.io-client\"\r\nimport * as Commons from \"common/common\"\r\n\r\nmoment.locale(\"ja\")\r\n\r\nconst RegisteredOccasion = (props) => {\r\n  const { history, showLoadingPageSpin, hideLoadingPageSpin, auth } = props\r\n  const registeredOccasionsRef = useRef()\r\n  const location = useLocation()\r\n  const isMountedRef = Commons.useIsMountedRef()\r\n\r\n  const [registeredOccasion, setRegisteredOccasion] = useState([])\r\n  const [currentRegistration, setCurrentRegistration] = useState(undefined)\r\n  const [qrModalVisible, setQrModalVisible] = useState(false)\r\n\r\n  const fetchRegisteredOccasion = useCallback(() => {\r\n    showLoadingPageSpin()\r\n\r\n    Commons.axiosInstance\r\n      .get(Commons.apiClientRegistrations)\r\n      .then((response) => {\r\n        setRegisteredOccasion(response?.data || [])\r\n\r\n        if (response?.data?.length === 0) {\r\n          history.push(Commons.clientOccasionsRoute)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 403) {\r\n          message.warning(Commons.errorSessionMsg)\r\n          history.push(Commons.GET_REDIRECT_LOGIN_ROUTE(auth))\r\n        } else if (error.response.status === 500) {\r\n          message.error(Commons.errorSystemMsg)\r\n        } else {\r\n          message.error(Commons.errorSystemMsg)\r\n        }\r\n      })\r\n      .finally(() => {\r\n        hideLoadingPageSpin()\r\n      })\r\n  }, [showLoadingPageSpin, hideLoadingPageSpin, history, auth])\r\n\r\n  const handleCancellation = (occasion) => {\r\n    showLoadingPageSpin()\r\n\r\n    const rParams = {\r\n      data: {\r\n        registrationId: occasion?.registrationId || undefined,\r\n      },\r\n    }\r\n\r\n    Commons.axiosInstance\r\n      .delete(Commons.apiClientOccasions, rParams)\r\n      .then((response) => {\r\n        message.success(Commons.successCancelMsg)\r\n        history.push(Commons.clientOccasionsRoute)\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 406) {\r\n          history.push(Commons.clientOccasionsRoute)\r\n        } else if (error.response.status === 500) {\r\n          message.error(Commons.errorSystemMsg)\r\n        } else {\r\n          message.error(Commons.errorSystemMsg)\r\n        }\r\n      })\r\n      .finally(() => {\r\n        if (isMountedRef.current) {\r\n          hideLoadingPageSpin()\r\n        }\r\n      })\r\n  }\r\n\r\n  const cancelHandler = (occasion) => {\r\n    Modal.confirm({\r\n      title: \"確認\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: \"予約をキャンセルしてもよろしいですか？\",\r\n      okText: \"予約をキャンセル\",\r\n      okType: \"danger\",\r\n      okButtonProps: { shape: \"round\" },\r\n      cancelText: \"閉じる\",\r\n      cancelButtonProps: { shape: \"round\" },\r\n      centered: true,\r\n      onOk() {\r\n        handleCancellation(occasion)\r\n      },\r\n    })\r\n  }\r\n\r\n  const showQrModal = (registration) => {\r\n    setCurrentRegistration(registration)\r\n    setQrModalVisible(true)\r\n  }\r\n\r\n  const hideQrModal = () => {\r\n    setCurrentRegistration(undefined)\r\n    setQrModalVisible(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchRegisteredOccasion()\r\n\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    registeredOccasionsRef.current = registeredOccasion\r\n\r\n    // eslint-disable-next-line\r\n  }, [registeredOccasion])\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const socket = io(Commons.siteURL, { path: \"/socket.io\" })\r\n\r\n    socket.on(\"updateEvent\", (response) => {\r\n      if (response !== undefined && Object.keys(response).length !== 0) {\r\n        if (response.occasionId && registeredOccasionsRef.current) {\r\n          registeredOccasionsRef.current.forEach((registeredOccasion) => {\r\n            if (\r\n              response.occasionId + \"\" ===\r\n              registeredOccasion.occasionId + \"\"\r\n            ) {\r\n              fetchRegisteredOccasion()\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    socket.on(\"deleteEvent\", (response) => {\r\n      if (response !== undefined && Object.keys(response).length !== 0) {\r\n        if (response.occasionId && registeredOccasionsRef.current) {\r\n          registeredOccasionsRef.current.forEach((registeredOccasion) => {\r\n            if (\r\n              response.occasionId + \"\" ===\r\n              registeredOccasion.occasionId + \"\"\r\n            ) {\r\n              history.push(Commons.clientOccasionsRoute)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    socket.on(\"confirmRegistration\", (response) => {\r\n      if (response !== undefined && Object.keys(response).length !== 0) {\r\n        if (response.occasionId && registeredOccasionsRef.current) {\r\n          registeredOccasionsRef.current.forEach((registeredOccasion) => {\r\n            if (\r\n              response.occasionId + \"\" ===\r\n              registeredOccasion.occasionId + \"\"\r\n            ) {\r\n              fetchRegisteredOccasion()\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    socket.on(\"cancelRegistration\", (response) => {\r\n      if (response !== undefined && Object.keys(response).length !== 0) {\r\n        if (response.occasionId && registeredOccasionsRef.current) {\r\n          registeredOccasionsRef.current.forEach((registeredOccasion) => {\r\n            if (\r\n              response.occasionId + \"\" ===\r\n              registeredOccasion.occasionId + \"\"\r\n            ) {\r\n              fetchRegisteredOccasion()\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    return () => {\r\n      socket.off(\"updateEvent\")\r\n      socket.off(\"deleteEvent\")\r\n      socket.off(\"confirmRegistration\")\r\n      socket.off(\"cancelRegistration\")\r\n\r\n      socket.disconnect()\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const registeredOccasionView = (occasion) => {\r\n    return (\r\n      <>\r\n        <Badge.Ribbon\r\n          key={occasion.occasionId}\r\n          text={Commons.getTypeByValue(occasion.type)}\r\n        >\r\n          <Card>\r\n            <div className=\"px-2\">\r\n              <p className=\"text-sm text-gray-500 mb-2\">検査場所</p>\r\n              <p className=\"text-lg text-center font-bold\">{`${\r\n                occasion?.title || \"ー\"\r\n              }`}</p>\r\n              <p className=\"text-sm text-center\">{`〒${\r\n                occasion?.zipPostal\r\n                  ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\")\r\n                  : \"ー\"\r\n              } ${occasion?.address || \"ー\"}`}</p>\r\n              <p className=\"text-sm text-center whitespace-pre-wrap\">\r\n                {`${occasion?.telephone || \"ー\"}`}\r\n              </p>\r\n              <Divider />\r\n              <p className=\"text-sm text-gray-500 mb-2\">予約日</p>\r\n              <p className=\"text-lg text-center font-bold\">\r\n                {occasion?.startAt\r\n                  ? moment(occasion.startAt).format(\"YYYY年M月D日 (ddd)\")\r\n                  : \"ー\"}\r\n              </p>\r\n              <Divider />\r\n              <p className=\"text-sm text-gray-500 mb-2\">予約時間</p>\r\n              <p className=\"text-lg text-center font-bold\">\r\n                {occasion?.startAt\r\n                  ? moment(occasion.startAt).format(\"HH時mm分\")\r\n                  : \"ー\"}\r\n              </p>\r\n              <Divider />\r\n              {registeredOccasion?.length < 2 ? (\r\n                <div className=\"mb-4\">\r\n                  {registeredOccasion.filter(\r\n                    (ro) => ro.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                  )[0] ? (\r\n                    <Button\r\n                      type=\"primary\"\r\n                      className=\"rounded-lg\"\r\n                      style={{ minHeight: \"100px\" }}\r\n                      block\r\n                      onClick={() => {\r\n                        history.push(\r\n                          `${Commons.clientOccasionsRoute}/${Commons.OCCASION_TYPE_PCR}`\r\n                        )\r\n                      }}\r\n                    >\r\n                      <p className=\"text-sm mb-4\">PCR検査も予約する</p>\r\n                      <p className=\"text-xs\">※同日中にPCR検査・抗原定性検査の</p>\r\n                      <p className=\"text-xs\">両方を受検することはできません</p>\r\n                    </Button>\r\n                  ) : registeredOccasion.filter(\r\n                      (ro) => ro.type === Commons.OCCASION_TYPE_PCR\r\n                    )[0] ? (\r\n                    <Button\r\n                      type=\"primary\"\r\n                      className=\"rounded-lg\"\r\n                      style={{ minHeight: \"100px\" }}\r\n                      block\r\n                      onClick={() => {\r\n                        history.push(\r\n                          `${Commons.clientOccasionsRoute}/${Commons.OCCASION_TYPE_ANTIGEN}`\r\n                        )\r\n                      }}\r\n                    >\r\n                      <p className=\"text-sm mb-4\">抗原定性検査も予約する</p>\r\n                      <p className=\"text-xs\">※同日中にPCR検査・抗原定性検査の</p>\r\n                      <p className=\"text-xs\">両方を受検することはできません</p>\r\n                    </Button>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n            <p className=\"text-center mb-4\">{occasion?.textCancel || \"ー\"}</p>\r\n            <Divider />\r\n            <Row justify=\"center\" gutter={[8, 8]}>\r\n              <Col>\r\n                <Button\r\n                  type=\"dashed\"\r\n                  shape=\"round\"\r\n                  icon={<GoogleOutlined />}\r\n                  href={google({\r\n                    title: `${\r\n                      occasion?.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                        ? \"抗原性\"\r\n                        : occasion?.type === Commons.OCCASION_TYPE_PCR\r\n                        ? \"PCR\"\r\n                        : \"\"\r\n                    }検査`,\r\n                    description: `${occasion?.title}\\n\\n〒${\r\n                      occasion?.zipPostal\r\n                        ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\")\r\n                        : \"ー\"\r\n                    } ${occasion?.address || \"ー\"}\\n\\n${occasion?.telephone}`,\r\n                    start: moment(occasion?.startAt).toISOString(),\r\n                    end: moment(occasion?.startAt).add(1, \"hour\").toISOString(),\r\n                    duration: 1,\r\n                    location: occasion?.address,\r\n                    url: Commons.siteURL,\r\n                  })}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  Googleカレンダーに追加\r\n                </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button\r\n                  type=\"dashed\"\r\n                  shape=\"round\"\r\n                  icon={<AppleOutlined />}\r\n                  href={ics({\r\n                    title: `${\r\n                      occasion?.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                        ? \"抗原性\"\r\n                        : occasion?.type === Commons.OCCASION_TYPE_PCR\r\n                        ? \"PCR\"\r\n                        : \"\"\r\n                    }検査`,\r\n                    description: `${occasion?.title}\\n\\n〒${\r\n                      occasion?.zipPostal\r\n                        ? Commons.insertCharacter(occasion.zipPostal, 3, \"-\")\r\n                        : \"ー\"\r\n                    } ${occasion?.address || \"ー\"}\\n\\n${occasion?.telephone}`,\r\n                    start: moment(occasion?.startAt).toISOString(),\r\n                    end: moment(occasion?.startAt).add(1, \"hour\").toISOString(),\r\n                    duration: 1,\r\n                    location: occasion?.address,\r\n                    url: Commons.siteURL,\r\n                  })}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  Appleカレンダーに追加\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Divider />\r\n            <Row gutter={[8, 0]} justify=\"center\" className=\"mb-4\">\r\n              <Col>\r\n                <Button\r\n                  danger\r\n                  shape=\"round\"\r\n                  className=\"h-12 m-1\"\r\n                  disabled={\r\n                    occasion?.canCancel\r\n                      ? occasion?.attended === 0\r\n                        ? occasion?.startAt\r\n                          ? moment().isSameOrBefore(\r\n                              moment(occasion?.startAt).subtract(\r\n                                occasion?.timeCancel || 0,\r\n                                \"minutes\"\r\n                              )\r\n                            )\r\n                            ? false\r\n                            : true\r\n                          : true\r\n                        : true\r\n                      : true\r\n                  }\r\n                  onClick={() => {\r\n                    cancelHandler(occasion)\r\n                  }}\r\n                >\r\n                  予約キャンセル\r\n                </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button\r\n                  type=\"primary\"\r\n                  shape=\"round\"\r\n                  className=\"w-32 h-12 m-1\"\r\n                  onClick={() => {\r\n                    showQrModal(occasion)\r\n                  }}\r\n                >\r\n                  検査QR\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Badge.Ribbon>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row\r\n        gutter={[0, 0]}\r\n        justify=\"center\"\r\n        className=\"mb-8 animate__animated animate__fadeIn\"\r\n      >\r\n        <Col xs={24} lg={12} xl={8} className=\"mt-8\">\r\n          {location?.state?.fromConfirm ? (\r\n            <>\r\n              <p className=\"text-xl whitespace-pre-wrap font-bold text-center text-gray-600 mb-2\">{`${\r\n                registeredOccasion?.length >= 2\r\n                  ? \"PCR・抗原性\"\r\n                  : registeredOccasion.filter(\r\n                      (ro) => ro.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                    )[0]\r\n                  ? \"抗原性\"\r\n                  : registeredOccasion.filter(\r\n                      (ro) => ro.type === Commons.OCCASION_TYPE_PCR\r\n                    )[0]\r\n                  ? \"PCR\"\r\n                  : \"\"\r\n              }検査をご予約\\nいただきまして\\nありがとうございました。\\n`}</p>\r\n              <p className=\"text-xs text-center text-gray-500 mb-6\">{`下記の通りいただきました予約が完了しました。`}</p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <p className=\"text-xl whitespace-pre-wrap font-bold text-center text-gray-600 mb-4\">{`${\r\n                registeredOccasion?.length >= 2\r\n                  ? \"PCR・抗原性\"\r\n                  : registeredOccasion.filter(\r\n                      (ro) => ro.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                    )[0]\r\n                  ? \"抗原性\"\r\n                  : registeredOccasion.filter(\r\n                      (ro) => ro.type === Commons.OCCASION_TYPE_PCR\r\n                    )[0]\r\n                  ? \"PCR\"\r\n                  : \"\"\r\n              }検査受付`}</p>\r\n              <p className=\"text-xs text-center text-gray-500 mb-8\">{`QRコードを検査受付時にご提示ください。`}</p>\r\n            </>\r\n          )}\r\n          <p className=\"text-lg font-bold text-gray-500\">予約内容</p>\r\n          <Divider />\r\n          {registeredOccasion?.length > 0 &&\r\n          registeredOccasion.filter(\r\n            (ro) => ro.type === Commons.OCCASION_TYPE_PCR\r\n          )[0]\r\n            ? registeredOccasionView(\r\n                registeredOccasion.filter(\r\n                  (ro) => ro.type === Commons.OCCASION_TYPE_PCR\r\n                )[0]\r\n              )\r\n            : \"\"}\r\n          {registeredOccasion?.length >= 2 ? <Divider /> : \"\"}\r\n          {registeredOccasion?.length > 0 &&\r\n          registeredOccasion.filter(\r\n            (ro) => ro.type === Commons.OCCASION_TYPE_ANTIGEN\r\n          )[0]\r\n            ? registeredOccasionView(\r\n                registeredOccasion.filter(\r\n                  (ro) => ro.type === Commons.OCCASION_TYPE_ANTIGEN\r\n                )[0]\r\n              )\r\n            : \"\"}\r\n        </Col>\r\n      </Row>\r\n      <Modal\r\n        visible={qrModalVisible}\r\n        title=\"検査受付QRコード\"\r\n        onCancel={hideQrModal}\r\n        footer={null}\r\n        centered\r\n      >\r\n        <Row justify=\"center\" className=\"mb-8\">\r\n          <Col>\r\n            {currentRegistration?.registrationId ? (\r\n              <Col span={24}>\r\n                <Row justify=\"center\">\r\n                  <Col>\r\n                    <QRCode\r\n                      value={encode(currentRegistration.registrationId)}\r\n                      size={250}\r\n                      level='H'\r\n                      renderAs=\"svg\"\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Divider />\r\n        <Row justify=\"center\">\r\n          <Col>\r\n            <Button\r\n              type=\"primary\"\r\n              shape=\"round\"\r\n              size=\"large\"\r\n              className=\"px-8\"\r\n              onClick={hideQrModal}\r\n            >\r\n              閉じる\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(RegisteredOccasion)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}